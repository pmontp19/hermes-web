---
import { Image } from 'astro:assets';

const { src, alt, width = 1200, height = 630 } = Astro.props;

// Function to determine the full image path
const getImagePath = (src) => {
  // If it's already a full path or remote URL, use it directly
  if (src.startsWith('http') || src.startsWith('/')) {
    return src;
  }
  
  // Otherwise, assume it's a relative path and prepend /blog-images/
  return `/blog-images/${src}`;
};

const imagePath = getImagePath(src);
---

<div class="my-8">
  <Image 
    src={imagePath} 
    alt={alt} 
    width={width} 
    height={height} 
    class="w-full rounded-lg mx-auto"
  />
  {alt && alt !== "" && (
    <p class="text-center text-gray-500 text-sm mt-2">{alt}</p>
  )}
</div>